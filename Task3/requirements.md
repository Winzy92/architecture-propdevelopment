Принятые решения:
1) Для каждой группы сервисов реализовать свой сервис аутентификации, так как не каждый клиент становится собственником, лучше разделять данные пользователей, чтобы в случае утечки данных какой то группы сервисов изолировать часть данных.
2) Добавлены межсетевые экраны для взимодействия с внешними системами и другими группами пользоватлей, защита и контроль трафика.
3) Внутри группы сервисов ЖКУ добавлен API Gateway для взаимодействия с внешними системами.

Требования к внешним интеграциям:
1. Внешняя платформа не должна иметь прямого доступа к внутренним системам PropDevelopment, кроме специально выделенного интеграционного сервиса. Внешние системы не имеют доступа к внутренним БД PropDevelopment.
2. Для предотвращения кросс-доступа и несанкционированных действий все API-методы партнёра должны быть разделены по ролям и операциям.
3. Защита персональных и чувствительных данных - биометрические данные (лица) и данные распознавания номеров автомобилей хранятся и обрабатываются на стороне партнерского сервиса smaertHome. Связь с пользовательскими данными из PropDevelopment осуществляется по идентификатору пользователя. Данные в smartHome хранятся обезличенно и зашифровано.
4. Шифрование и защита каналов связи - только по защищённым каналам (TLS 1.2+).
5. Контроль и аудит - журналирование в интеграционном сервисе. Журналы должны быть защищены от изменения и доступ к ним должен быть по определенным правам.
6. Аутентификация между системами PropDevelopment ↔ smartHome - OAuth 2.0 Client Credentials Flow, либо mTLS (mutual TLS).
7. Авторизация должна быть основана на ролях и скоупах (scopes) и привязана к конкретной управляющей компании / ЖК. Токены доступа должны иметь ограниченное время жизни.
8. Внешняя платформа не аутентифицирует пользователей напрямую. SmartHome работает только с сервисными учётными записями.


